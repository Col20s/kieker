apply plugin: "com.github.hauner.jarTest"
apply plugin: 'java'

dependencies {
	// no project-specific dependencies
	clover 'org.openclover:clover:4.2.0'
	
	compile 'com.fasterxml.jackson.core:jackson-databind:2.9.8'
	compile 'com.fasterxml.jackson.core:jackson-core:2.9.8'
	compile 'org.slf4j:slf4j-api:1.7.25'
}

clover {
	report {
		html=true
	}
	
}

task replaceHardCodedVersionNames() {
  doLast {
	regexpReplaceInFiles(project.file("src/kieker/common/util/Version.java"), "VERSION = \".*?\"", "VERSION = \"${version}\"")
  }
}

compileJava.dependsOn replaceHardCodedVersionNames
